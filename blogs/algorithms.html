<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Algorithms Notes</title>
  <link rel="stylesheet" href="C:/Users/Aym_s/projects/github/profile/styles.css">

</head>
<body>
<article class="markdown-body">
<h1 class="atx" id="algorithms-notes">Algorithms Notes</h1>
<p><em>Last Updated: 22 Sept 2025</em> </p>
<h3 class="atx" id="terms-to-remember">Terms to remember</h3>
<ul>
<li>Boustrophedon style : iteration like snake and ladder board  </li>
</ul>
<h2 class="atx" id="range-update-in-o1">Range update in O(1) :</h2>
<ul>
<li>a[], get diff[],   </li>
<li>range_update(l, r, val) -&gt; diff[l] += val; diff[r+1] -=val  </li>
<li>get a[] -&gt; a[0] = diff[0]; a[i] = a[i-1] + diff[i]; ignore last number  <p><em>ðŸ“Œ NOTE :  Do precomputation if TLE.</em> </p></li>
</ul>

<h2 class="atx" id="dsu">DSU :</h2>
<ul>
<li>use chaining to define set, defined by parent-child relationship.   </li>
<li>AR(x) : find topmost parent of x  </li>
<li>Find(x, y) : check if x and y in same set  </li>
<li>Union (x, y) : connect AR(x) to AR(y)  </li>
<li>Cannot be used to detect cycle in directed graph, but possible in undirected  </li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="k">for</span><span class="token punctuation">(</span><span class="n">auto</span> <span class="n">p</span><span class="token punctuation">:</span><span class="n">edgeList</span><span class="token punctuation">){</span>  
    <span class="nb">int</span> <span class="n">fromP</span> <span class="token operator">=</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">p</span><span class="token operator">.</span><span class="n">first</span><span class="token punctuation">);</span>  
    <span class="nb">int</span> <span class="n">toP</span> <span class="token operator">=</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">p</span><span class="token operator">.</span><span class="n">second</span><span class="token punctuation">);</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">fromP</span> <span class="token operator">==</span> <span class="n">toP</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="n">do</span> <span class="n">cyclic</span> <span class="n">condition</span> <span class="n">work</span>  
    <span class="n">union_op</span><span class="token punctuation">(</span><span class="n">fromP</span><span class="token punctuation">,</span> <span class="n">toP</span><span class="token punctuation">);</span>  
<span class="token punctuation">}</span>  
</code></pre></div>
<h3 class="atx" id="brute-force-on">Brute force O(N) :</h3>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span> <span class="n">find</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">v</span><span class="token punctuation">):</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">):</span> <span class="token comment"># can also have root point to same no and check to see if v equal to dsuf[v]  </span>
        <span class="k">return</span> <span class="n">v</span><span class="token punctuation">;</span>  
    <span class="k">return</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]);</span>  

<span class="n">void</span> <span class="n">union_op</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">a</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">b</span><span class="token punctuation">):</span>  
    <span class="nb">int</span> <span class="n">aa</span> <span class="token operator">=</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">a</span><span class="token punctuation">);</span>  
    <span class="nb">int</span> <span class="n">bb</span> <span class="token operator">=</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">b</span><span class="token punctuation">);</span>  
    <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">aa</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="n">bb</span><span class="token punctuation">;</span>  
</code></pre></div>
<h3 class="atx" id="optimized-olog-n">Optimized O(log N) :</h3>
<p>do path compression, dsuf arr stores end parent only<br/>
rank and height are initially same but, after path compression, height is reduced but rank will be same<br/>
union by rank is done to make height less in union operation  </p>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span> <span class="n">find_path_compression</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">v</span><span class="token punctuation">):</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">):</span>  
        <span class="k">return</span> <span class="n">v</span>  
    <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span> <span class="token operator">=</span> <span class="n">find</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span><span class="token punctuation">)</span>  
    <span class="k">return</span> <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">v</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span>  

<span class="n">void</span> <span class="n">union_by_rank</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">a</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">b</span><span class="token punctuation">):</span>    <span class="token operator">//</span> <span class="n">height</span><span class="token operator">/</span><span class="n">rank</span> <span class="ow">not</span> <span class="n">changed</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">a</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">rank</span> <span class="token operator">&gt;</span> <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">b</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">rank</span><span class="token punctuation">):</span>  
        <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">a</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span> <span class="token operator">=</span> <span class="n">b</span>  
    <span class="k">else</span> <span class="k">if</span><span class="token punctuation">(</span><span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">a</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">rank</span> <span class="token operator">&lt;</span> <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">b</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">rank</span><span class="token punctuation">):</span>  
        <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">a</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span> <span class="token operator">=</span> <span class="n">b</span>  
    <span class="k">else</span><span class="token punctuation">:</span>  
        <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">a</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">parent</span> <span class="token operator">=</span> <span class="n">b</span>  
        <span class="n">dsuf</span><span class="token punctuation">[</span><span class="n">b</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="n">rank</span> <span class="token operator">+=</span><span class="token number">1</span>  
</code></pre></div>
<h2 class="atx" id="digits-dp">Digits DP</h2>
<p>Below is implemention of check in range of numbers, how many digits are 3  </p>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span> <span class="n">dp</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">][</span><span class="token number">2</span><span class="token punctuation">][</span><span class="token number">20</span><span class="token punctuation">];</span> <span class="token operator">//</span> <span class="n">index</span><span class="token punctuation">,</span> <span class="n">tight</span><span class="token punctuation">,</span> <span class="n">count</span>  
<span class="nb">int</span> <span class="n">solve</span><span class="token punctuation">(</span><span class="n">string</span> <span class="n">s</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">idx</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">tight</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">cnt</span><span class="token punctuation">):</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">idx</span> <span class="token operator">==</span> <span class="n">s</span><span class="token operator">.</span><span class="n">size</span><span class="token punctuation">():</span>   
        <span class="k">return</span> <span class="n">cnt</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">dp</span><span class="token punctuation">[</span><span class="n">idx</span><span class="token punctuation">][</span><span class="n">tight</span><span class="token punctuation">][</span><span class="n">cnt</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">):</span>   
        <span class="k">return</span> <span class="n">dp</span><span class="token punctuation">[</span><span class="n">idx</span><span class="token punctuation">][</span><span class="n">tight</span><span class="token punctuation">][</span><span class="n">cnt</span><span class="token punctuation">]</span>  
    <span class="nb">int</span> <span class="n">limit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="n">tight</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="err">?</span> <span class="token punctuation">(</span><span class="n">s</span><span class="token punctuation">[</span><span class="n">idx</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="s1">'0'</span> <span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">)</span>  
    <span class="k">for</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="n">i</span><span class="token operator">&lt;=</span><span class="n">limit</span><span class="token punctuation">;</span> <span class="n">i</span><span class="token operator">++</span><span class="token punctuation">):</span>  
         <span class="nb">int</span> <span class="n">updateCnt</span> <span class="token operator">=</span> <span class="n">cnt</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="n">i</span><span class="token operator">==</span><span class="token number">3</span> <span class="err">?</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">);</span> <span class="token operator">//</span> <span class="k">as</span> <span class="n">per</span> <span class="n">question</span>  
         <span class="nb">int</span> <span class="n">nxtTight</span> <span class="token operator">=</span> <span class="n">tight</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="n">i</span> <span class="token operator">==</span> <span class="n">s</span><span class="token punctuation">[</span><span class="n">idx</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="s1">'0'</span><span class="token punctuation">)</span>  
         <span class="n">ans</span> <span class="token operator">+=</span> <span class="n">solve</span><span class="token punctuation">(</span><span class="n">s</span><span class="token punctuation">,</span><span class="n">idx</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">nxtTight</span><span class="token punctuation">,</span> <span class="n">updateCnt</span><span class="token punctuation">)</span>  
    <span class="k">return</span> <span class="n">dp</span><span class="token punctuation">[</span><span class="n">idx</span><span class="token punctuation">][</span><span class="n">tight</span><span class="token punctuation">][</span><span class="n">cnt</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="n">ans</span>  

<span class="nb">int</span> <span class="n">main</span><span class="token punctuation">():</span>  
    <span class="nb">int</span> <span class="n">lLimit</span><span class="token punctuation">,</span> <span class="n">rLimit</span><span class="token punctuation">;</span>  
    <span class="n">string</span> <span class="n">ri</span> <span class="token operator">=</span> <span class="n">to_str</span><span class="token punctuation">(</span><span class="n">rLimit</span><span class="token punctuation">),</span> <span class="n">le</span> <span class="token operator">=</span> <span class="n">to_str</span><span class="token punctuation">(</span><span class="n">lLimit</span><span class="token punctuation">)</span>  
    <span class="n">dp</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>  
    <span class="nb">int</span> <span class="n">rAns</span> <span class="token operator">=</span> <span class="n">solve</span><span class="token punctuation">(</span><span class="n">ri</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  
    <span class="n">dp</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>  
    <span class="nb">int</span> <span class="n">lAns</span>  <span class="token operator">=</span> <span class="n">solv</span><span class="token punctuation">(</span><span class="n">li</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  
    <span class="k">return</span> <span class="token punctuation">(</span><span class="n">rAns</span> <span class="token operator">-</span> <span class="n">lAns</span><span class="token punctuation">)</span>  
</code></pre></div>
<h2 class="atx" id="segment-tree">Segment Tree</h2>
<p>Good for range query when no of update operations is high.  </p>
<ul>
<li>
<p>Update : O(U logN); U is no of update operations  </p>
</li>
<li>
<p>Query : O(q logN) ; q is no of queries  </p>
</li>
<li>
<p>No of nodes in ST : (2*N-1)  </p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span> <span class="n">constructST</span><span class="token punctuation">(</span><span class="n">St</span><span class="token punctuation">,</span> <span class="n">si</span><span class="token punctuation">,</span> <span class="n">arr</span><span class="token punctuation">,</span> <span class="n">l</span><span class="token punctuation">,</span> <span class="n">r</span><span class="token punctuation">):</span>  
    <span class="k">if</span> <span class="n">l</span><span class="token operator">==</span><span class="n">r</span><span class="token punctuation">:</span> <span class="token comment"># leaf node  </span>
        <span class="n">st</span><span class="token punctuation">[</span><span class="n">si</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="n">arr</span><span class="token punctuation">[</span><span class="n">l</span><span class="token punctuation">]</span>  
        <span class="k">return</span> <span class="n">arr</span><span class="token punctuation">[</span><span class="n">l</span><span class="token punctuation">]</span>  
    <span class="n">mid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="n">l</span><span class="token operator">+</span><span class="n">r</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>  
    <span class="n">st</span><span class="token punctuation">[</span><span class="n">si</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="n">constructST</span><span class="token punctuation">(</span><span class="n">st</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">arr</span><span class="token punctuation">,</span> <span class="n">l</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token punctuation">)</span> <span class="token operator">+</span>   
             <span class="n">constructST</span><span class="token punctuation">(</span><span class="n">st</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="n">arr</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">r</span><span class="token punctuation">)</span> <span class="token comment"># for sum question  </span>
    <span class="k">return</span> <span class="n">st</span><span class="token punctuation">[</span><span class="n">si</span><span class="token punctuation">]</span>  

<span class="nb">int</span> <span class="n">getSum</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">si</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">sl</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">sr</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">l</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">r</span><span class="token punctuation">):</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">l</span> <span class="token operator">&lt;=</span> <span class="n">sl</span> <span class="token operator">&amp;&amp;</span> <span class="n">r</span> <span class="token operator">&gt;=</span> <span class="n">sr</span><span class="token punctuation">):</span>        <span class="token comment"># Total Overlap  </span>
        <span class="k">return</span> <span class="n">st</span><span class="token punctuation">[</span><span class="n">si</span><span class="token punctuation">]</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">sr</span> <span class="token operator">&lt;</span> <span class="n">l</span> <span class="token operator">||</span> <span class="n">sl</span> <span class="token operator">&gt;</span> <span class="n">r</span><span class="token punctuation">):</span>          <span class="token comment"># No Overlap  </span>
        <span class="k">return</span> <span class="token number">0</span>  
    <span class="n">mid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="n">sl</span> <span class="token operator">+</span> <span class="n">sr</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>             <span class="token comment"># Partial Overlap  </span>
    <span class="k">return</span> <span class="n">getsum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">sl</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token punctuation">,</span> <span class="n">l</span><span class="token punctuation">,</span> <span class="n">r</span><span class="token punctuation">)</span> <span class="token operator">+</span>   
           <span class="n">getsum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">sr</span><span class="token punctuation">,</span> <span class="n">l</span><span class="token punctuation">,</span> <span class="n">r</span><span class="token punctuation">)</span>  

<span class="n">void</span> <span class="n">update</span><span class="token punctuation">(</span> <span class="n">si</span><span class="token punctuation">,</span> <span class="n">sl</span><span class="token punctuation">,</span> <span class="n">sr</span><span class="token punctuation">,</span> <span class="n">pos</span><span class="token punctuation">,</span> <span class="n">diff</span><span class="token punctuation">):</span> <span class="token comment"># update over range  </span>
    <span class="k">if</span><span class="token punctuation">(</span> <span class="n">sl</span> <span class="token operator">&gt;</span> <span class="n">ps</span> <span class="token operator">||</span> <span class="n">sr</span> <span class="token operator">&lt;</span> <span class="n">pos</span><span class="token punctuation">):</span>  
        <span class="k">return</span>  
    <span class="n">s</span><span class="token punctuation">[</span><span class="n">si</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="n">diff</span>  
    <span class="k">if</span><span class="token punctuation">(</span><span class="n">sl</span> <span class="err">!</span><span class="token operator">-</span> <span class="n">sr</span><span class="token punctuation">):</span>  
        <span class="n">mid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="n">sl</span><span class="token operator">+</span><span class="n">sr</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>  
        <span class="n">update</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">sl</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token punctuation">,</span> <span class="n">pos</span><span class="token punctuation">,</span> <span class="n">diff</span><span class="token punctuation">)</span>  
        <span class="n">update</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="n">si</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="n">mid</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">sr</span><span class="token punctuation">,</span> <span class="n">pos</span><span class="token punctuation">,</span> <span class="n">diff</span><span class="token punctuation">)</span>  
</code></pre></div>
<h2 class="atx" id="fenwick-binary-indexed-tree">Fenwick / Binary Indexed Tree</h2>
<ul>
<li>
<p>Updates and prefix sum Queries in O(log n), just like segment tree, only easier to remember code  </p>
</li>
<li>
<p>memory is little less than seg tree  </p>
</li>
<li>
<p>Seg tree  advantage is that it Supports arbitrary range queries: Not limited to prefix sums.<br/>
  Also Seg tree can handle custom operation like min, max, gcd, xor, etc.  </p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span><span class="token punctuation">[]</span> <span class="n">constructFT</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">arr</span><span class="token punctuation">[],</span> <span class="nb">int</span> <span class="n">n</span><span class="token punctuation">):</span>  
    <span class="nb">int</span> <span class="n">fTree</span><span class="token punctuation">[</span><span class="n">n</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>  
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="n">n</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">):</span>  
        <span class="n">fTree</span><span class="token punctuation">[</span><span class="n">i</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>  
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="token punctuation">(</span><span class="n">n</span><span class="token punctuation">):</span>  
        <span class="n">updateFT</span><span class="token punctuation">(</span><span class="n">fTree</span><span class="token punctuation">,</span> <span class="n">n</span><span class="token punctuation">,</span> <span class="n">i</span><span class="token punctuation">,</span> <span class="n">arr</span><span class="token punctuation">[</span><span class="n">i</span><span class="token punctuation">])</span>  
    <span class="k">return</span> <span class="n">fTree</span>  

<span class="k">def</span><span class="w"> </span><span class="nf">updateFT</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">fTree</span><span class="token punctuation">[],</span> <span class="nb">int</span> <span class="n">n</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">index</span><span class="token punctuation">,</span> <span class="nb">int</span> <span class="n">diff</span><span class="token punctuation">):</span>  
    <span class="n">index</span> <span class="token operator">+=</span> <span class="token number">1</span>  
    <span class="k">while</span><span class="token punctuation">(</span><span class="n">index</span> <span class="token operator">&lt;=</span> <span class="n">n</span><span class="token punctuation">):</span>  
        <span class="n">fTree</span><span class="token punctuation">[</span><span class="n">index</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="n">diff</span>  
        <span class="n">index</span> <span class="token operator">+=</span> <span class="n">index</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="n">index</span><span class="token punctuation">)</span>  

<span class="nb">int</span> <span class="n">getSum</span><span class="token punctuation">(</span><span class="nb">int</span> <span class="n">fTree</span><span class="token punctuation">[],</span> <span class="nb">int</span> <span class="n">index</span><span class="token punctuation">):</span>  
    <span class="nb">int</span> <span class="nb">sum</span> <span class="token operator">=</span> <span class="token number">0</span>  
    <span class="n">index</span> <span class="token operator">+=</span>  <span class="token number">1</span>  
    <span class="k">while</span><span class="token punctuation">(</span><span class="n">index</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">):</span>  
        <span class="nb">sum</span> <span class="token operator">+=</span> <span class="n">fTree</span><span class="token punctuation">[</span><span class="n">index</span><span class="token punctuation">]</span>  
        <span class="n">index</span> <span class="token operator">-=</span> <span class="n">index</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="n">index</span><span class="token punctuation">)</span>  
    <span class="k">return</span> <span class="nb">sum</span>  
</code></pre></div>
<h2 class="atx" id="get-number-in-diff-base">Get number in diff base</h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_base</span><span class="token punctuation">(</span><span class="n">n</span><span class="token punctuation">,</span> <span class="n">k</span><span class="token punctuation">):</span>  
    <span class="n">digit</span><span class="token operator">=</span><span class="token number">0</span>  
    <span class="k">while</span> <span class="token punctuation">(</span><span class="n">x</span><span class="token punctuation">):</span>  
        <span class="n">digit</span> <span class="token operator">=</span> <span class="n">digit</span><span class="token operator">*</span><span class="token number">10</span> <span class="token operator">+</span> <span class="n">x</span><span class="token operator">%</span><span class="n">k</span>  
        <span class="n">x</span> <span class="token operator">/=</span> <span class="n">k</span>  
    <span class="k">return</span> <span class="n">digit</span>  
</code></pre></div>
<h2 class="atx" id="sum-of-1st-n-palindromes">Sum of 1st n palindromes</h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">first_n_palindromes</span><span class="token punctuation">(</span><span class="n">n</span><span class="token punctuation">):</span>  
    <span class="nb">int</span> <span class="n">left</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="n">count</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>  
    <span class="n">long</span> <span class="n">long</span> <span class="n">ans</span><span class="token operator">=</span><span class="token number">0</span>  
    <span class="k">while</span> <span class="token punctuation">(</span><span class="n">count</span> <span class="token operator">&lt;</span> <span class="n">n</span><span class="token punctuation">):</span>  
        <span class="nb">int</span> <span class="n">right</span> <span class="token operator">=</span> <span class="n">left</span> <span class="token operator">*</span> <span class="token number">10</span>  
        <span class="token comment"># op = 0 indicates enumerating odd-length palindromes  </span>
        <span class="token comment"># op = 1 indicates enumerating even-length palindromes  </span>
        <span class="k">for</span> <span class="token punctuation">(</span><span class="nb">int</span> <span class="n">op</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="n">op</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">++</span><span class="n">op</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>  
            <span class="token comment"># enumerate i' . i will be all numbers in   </span>
            <span class="k">for</span> <span class="token punctuation">(</span><span class="nb">int</span> <span class="n">i</span><span class="token operator">=</span><span class="n">left</span><span class="token punctuation">;</span> <span class="n">i</span><span class="token operator">&lt;</span><span class="n">right</span> <span class="token operator">&amp;&amp;</span> <span class="n">count</span><span class="token operator">&lt;</span><span class="n">n</span><span class="token punctuation">;</span> <span class="token operator">++</span><span class="n">i</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>  
                <span class="n">long</span> <span class="n">long</span> <span class="n">combined</span> <span class="token operator">=</span> <span class="n">i</span>  
                <span class="nb">int</span> <span class="n">x</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="n">op</span><span class="token operator">==</span><span class="token number">0</span> <span class="err">?</span> <span class="n">i</span><span class="token operator">/</span><span class="token number">10</span> <span class="token punctuation">:</span> <span class="n">i</span><span class="token punctuation">)</span>  
                <span class="k">while</span> <span class="token punctuation">(</span><span class="n">x</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>  
                    <span class="n">combined</span> <span class="token operator">=</span> <span class="n">combined</span><span class="token operator">*</span><span class="token number">10</span> <span class="token operator">+</span> <span class="n">x</span><span class="token operator">%</span><span class="token number">10</span>  
                    <span class="n">x</span> <span class="token operator">/=</span> <span class="token number">10</span>  
                <span class="token operator">++</span><span class="n">count</span>  
                <span class="n">ans</span> <span class="token operator">+=</span> <span class="n">combined</span>  
        <span class="n">left</span> <span class="token operator">=</span> <span class="n">right</span>  
    <span class="k">return</span> <span class="n">count</span>  
</code></pre></div>
<h2 class="atx" id="topological-sort">Topological Sort</h2>
<p>Topological sort is a way to <strong>linearly order the nodes of a Directed Acyclic Graph (DAG)</strong> such that for every edge <code>u â†’ v</code>, node <code>u</code> comes before <code>v</code>.  </p>
<p>Below is code for bfs with cycle detection for topo sort. Especially useful for Course Schedule problems.  </p>
<div class="codehilite"><pre><span></span><code><span class="token comment"># given adj and n vertices  </span>
<span class="k">def</span><span class="w"> </span><span class="nf">topo_sort</span><span class="token punctuation">():</span>  
    <span class="nb">int</span> <span class="n">inDegree</span><span class="token punctuation">[</span><span class="n">n</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>  
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">adj</span><span class="token punctuation">:</span>  
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="token punctuation">:</span>  
              <span class="n">inDegree</span><span class="token punctuation">[</span><span class="n">y</span><span class="token punctuation">]</span><span class="token operator">++</span>  
    <span class="n">queue</span><span class="token operator">&lt;</span><span class="nb">int</span><span class="token operator">&gt;</span> <span class="n">q</span><span class="token punctuation">;</span>        
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="token punctuation">(</span><span class="n">n</span><span class="token punctuation">):</span>  
        <span class="k">if</span> <span class="n">inDegree</span><span class="token punctuation">[</span><span class="n">i</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span>  
            <span class="n">q</span><span class="token operator">.</span><span class="n">push</span><span class="token punctuation">(</span><span class="n">i</span><span class="token punctuation">)</span>  
    <span class="n">topo</span> <span class="token operator">=</span> <span class="token punctuation">[]</span>  
    <span class="k">while</span> <span class="err">!</span><span class="n">q</span><span class="token operator">.</span><span class="n">empty</span><span class="token punctuation">():</span>  
        <span class="nb">int</span> <span class="n">node</span> <span class="token operator">=</span> <span class="n">q</span><span class="token operator">.</span><span class="n">front</span><span class="token punctuation">();</span> <span class="n">q</span><span class="token operator">.</span><span class="n">pop</span><span class="token punctuation">()</span>  
        <span class="n">topo</span><span class="token operator">.</span><span class="n">append</span><span class="token punctuation">(</span><span class="n">node</span><span class="token punctuation">)</span>  
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">adj</span><span class="token punctuation">[</span><span class="n">node</span><span class="token punctuation">]:</span>  
            <span class="n">inDegree</span><span class="token punctuation">[</span><span class="n">x</span><span class="token punctuation">]</span><span class="token operator">--</span>  
            <span class="k">if</span><span class="token punctuation">(</span><span class="n">inDegree</span><span class="token punctuation">[</span><span class="n">x</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>  
                <span class="n">q</span><span class="token operator">.</span><span class="n">push</span><span class="token punctuation">(</span><span class="n">x</span><span class="token punctuation">)</span>  

    <span class="k">if</span> <span class="nb">len</span><span class="token punctuation">(</span><span class="n">topo</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="n">n</span><span class="token punctuation">:</span>  
        <span class="k">return</span> <span class="n">topo</span>  
    <span class="token comment"># if all elements arent present, its cyclic so return empty  </span>
    <span class="k">return</span> <span class="token punctuation">{}</span>        
</code></pre></div>
</article>
</body>
</html>
